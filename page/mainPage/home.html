<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquareNeo/nanumsquareneo.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>메인페이지</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link rel="stylesheet" href="/css/output/styles.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  </head>
  <body>
    <div class="circle-cursor"></div>

    <!-- <div class="color-target">이 영역의 배경이 바뀜!</div> -->
    <div class="background-yellow">
      <div class="dom-back">
        <div class="domVideo-container">
          <iframe
            class="domVideo"
            src="https://www.youtube.com/embed/k9qOAiVvd0A?autoplay=1&mute=1&loop=1&playlist=k9qOAiVvd0A&controls=0&modestbranding=1&showinfo=0&rel=0&disablekb=1"
            frameborder="0"
            allow="autoplay; encrypted-media"
            allowfullscreen
          ></iframe>
        </div>
      </div>
      <div class="main-inner">
        <div class="section-wrap">
          <section class="section01">
            <div class="letter-container">
              <img src="/assets/images/home/P.png" class="letter-img" data-speed="3.5" data-fixed="1500" />
              <img src="/assets/images/home/O.png" class="letter-img" data-speed="1.0" />
              <img src="/assets/images/home/P-1.png" class="letter-img" data-speed="4.2" />
              <img src="/assets/images/home/M.png" class="letter-img" data-speed="1.8" data-fixed="2000" />
              <img src="/assets/images/home/A.png" class="letter-img" data-speed="3.9" />
              <img src="/assets/images/home/R.png" class="letter-img" data-speed="3.0" />
              <img src="/assets/images/home/T.png" class="letter-img" data-speed="4.0" data-fixed="1800" />
              <!-- <div class="circle"></div> -->
              <div class="circle-container">
                <svg class="circle-svg">
                  <!-- 큰 타원 -->
                  <ellipse
                    class="big-circle"
                    cx="50%"
                    cy="50%"
                    rx="600"
                    ry="800"
                    stroke="#FFC58B"
                    stroke-width="200"
                    fill="none"
                  ></ellipse>

                  <!-- 작은 타원 -->
                  <ellipse
                    class="small-circle"
                    cx="50%"
                    cy="50%"
                    rx="300"
                    ry="450"
                    stroke="#FFA64D"
                    stroke-width="200"
                    fill="none"
                  ></ellipse>
                </svg>
              </div>
            </div>
          </section>
          <section class="section02">
            <div class="homeGrid-wrapper">
              <div class="homeGrid-container">
                <div class="homeGrid-wrapper-inner"></div>
              </div>
            </div>
            <div class="caution-banner">
              <div class="caution-track">
                <span>Wanna see more? Wanna see more? Wanna see more? Wanna see more? Wanna see more?</span>
              </div>
            </div>
          </section>
          <section class="section03">
            <div class="prev-wrap">
              <button id="colorToggleBtn" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999">🎨</button>
              <h1 class="prev-title glitch" data-text="PREVIEW OUR PRODUCT">PREVIEW OUR PRODUCT</h1>
              <div class="prev-product-container">
                <div class="background-characters"></div>
                <div class="info-wrapper">
                  <img
                    src="https://github.com/hyeonky/dp-static/blob/main/popmart/thumbnail/thumbnail16.png?raw=true"
                    alt=""
                    class="prev-product"
                  />

                  <button class="home-info-btn" data-info="home-info1" style="top: 20%; left: 30%">+</button>

                  <button class="home-info-btn" data-info="home-info2" style="top: 60%; left: 70%">+</button>

                  <div class="home-info-box" id="home-info1">
                    <p>아주 캄캄하고 끝없이 펼쳐진 우주에서 여유롭게 비행하는 누군가를 발견했다면</p>
                    <br />
                    <p>그건 아마 스컬판다 일 거예요</p>
                    <br />
                    <p>마치 우주인과 같은 헬멧, 동그란 양갈래머리 그리고 통통한 입술이 매력적인 스컬판다는 뭐랄까..</p>
                    <br />
                    <p>어디로 튈지 모르는 아주 자유로운 존재라고 할 수 있겠네요</p>
                  </div>
                  <div class="home-info-box" id="home-info2">
                    <p>가끔은 수줍은 소녀의 모습으로,</p>
                    <br />
                    <p>또 어느 날은 세상을 삼켜 먹을 만큼 카리스마 있는 모습으로 끝없이 변신하는 스컬판다</p>
                    <br />
                    <p>조심하세요!</p>
                    <br />
                    <p>언제 어디서 여러분 앞에 나타나 혼을 쏙 빼놓고 갈지 모르거든요</p>
                  </div>
                </div>
                <div class="home-artist-info">
                  <div class="home-artist-header">ARTIST SKULLPANDA</div>
                  <div class="home-artist-content">
                    <p>
                      스튜디오 'LAZYNORTH'와 'BEIZHAI'의 총괄 디렉터로도 활동 중인 컨셉 디자이너 SKULLPANDA는 2018년
                      본인의 이름과 동일한 캐릭터 '스컬판다'를 선보이며, 스컬판다만의 독보적이고도 몽환적인 디자인과
                      세계관으로 전 세계 팬들에게 각광받고 있답니다.
                    </p>
                  </div>
                </div>

                <img src="/assets/images/home/skullpanda.png" alt="skullpanda profile" class="artist-profile-img" />
              </div>
            </div>
          </section>
        </div>
      </div>
      <section id="section04">
        <div class="slider-container">
          <div class="slider-track"></div>
        </div>
      </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="/js/mainPage/homeScript.js"></script>

    <script>
      fetch('/page/mainPage/homeGnb.html')
        .then((res) => res.text())
        .then((html) => {
          document.body.insertAdjacentHTML('afterbegin', html);

          const gnbToggleBtn = document.getElementById('gnbToggleBtn');
          const gnbMenu = document.getElementById('gnbMenu');

          const topBar = gnbToggleBtn.querySelector('span:nth-child(1)');
          const midBar = gnbToggleBtn.querySelector('span:nth-child(2)');
          const botBar = gnbToggleBtn.querySelector('span:nth-child(3)');
          let gnbOpen = false;

          // 초기 스타일 세팅
          gsap.set(gnbMenu, {
            y: '-100%',
            autoAlpha: 0,
            pointerEvents: 'none',
          });

          gnbToggleBtn.addEventListener('click', () => {
            if (!gnbOpen) {
              gsap.to(gnbMenu, {
                y: '0%',
                autoAlpha: 1,
                duration: 0.6,
                ease: 'power3.out',
                onStart: () => {
                  gnbMenu.style.pointerEvents = 'auto';
                },
              });

              // 햄버거 → X
              gsap.to(topBar, {
                rotate: 45,
                y: 12,
                scaleX: 1.2,
                transformOrigin: 'center',
                duration: 0.25,
                ease: 'back.out(2)',
              });
              gsap.to(midBar, {
                autoAlpha: 0,
                scaleX: 0.8,
                duration: 0.2,
                ease: 'power2.in',
              });
              gsap.to(botBar, {
                rotate: -45,
                y: -12,
                scaleX: 1.2,
                transformOrigin: 'center',
                duration: 0.25,
                ease: 'back.out(2)',
              });
            } else {
              gsap.to(gnbMenu, {
                y: '-100%',
                autoAlpha: 0,
                duration: 0.5,
                ease: 'power2.inOut',
                onComplete: () => {
                  gnbMenu.style.pointerEvents = 'none';
                },
              });

              // X → 햄버거 복귀
              gsap.to(topBar, {
                rotate: 0,
                y: 0,
                scaleX: 1,
                duration: 0.3,
                ease: 'power2.out',
              });
              gsap.to(midBar, {
                autoAlpha: 1,
                scaleX: 1,
                duration: 0.2,
                ease: 'power2.out',
                delay: 0.1,
              });
              gsap.to(botBar, {
                rotate: 0,
                y: 0,
                scaleX: 1,
                duration: 0.3,
                ease: 'power2.out',
              });
              gsap.fromTo(
                gnbToggleBtn,
                { scale: 1 },
                { scale: 1.1, yoyo: true, repeat: 1, duration: 0.2, ease: 'power1.inOut' }
              );
            }

            gnbOpen = !gnbOpen;
          });
        })
        .catch((err) => console.error('GNB 로드 실패:', err));
    </script>
  </body>
</html>
